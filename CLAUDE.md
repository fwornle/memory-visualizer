# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

Memory Visualizer is an interactive web application for visualizing knowledge graphs from Anthropic's Memory MCP (Model Context Protocol). It renders entities, relationships, and observations from memory.json files generated by Claude Desktop's Memory MCP server.

## Commands

### Development
- `npm run dev` - Start development server on port 3000 with hot reload
- `npm run build` - Build production bundle to `dist/` directory
- `npm run preview` - Preview production build locally

### Installation
- `npm install` - Install all dependencies

## Architecture

The application is a single-page React app with TypeScript that uses D3.js for graph visualization:

- **Entry Point**: `src/main.tsx` - Mounts the React app
- **Main Component**: `src/components/KnowledgeGraphVisualization.tsx` - Contains all visualization logic including:
  - D3.js force-directed graph implementation
  - File upload and JSON parsing
  - Interactive node selection and relationship display
  - Search and filter functionality
  - Navigation history (back/forward)

The component handles both file uploads and direct JSON pasting, automatically loading `memory.json` files when dropped onto the interface.

## Key Technical Details

- **React 18** with TypeScript (non-strict mode)
- **D3.js v7** for force-directed graph visualization
- **Vite** as the build tool for fast development
- **TailwindCSS** for styling
- **React-Markdown** with GitHub Flavored Markdown support for documentation rendering
- **Mermaid.js** integration for rendering diagrams in markdown files
- The app expects memory data in a specific format with entities, relationships, and observations
- No backend required - runs entirely in the browser

## Markdown Documentation Support

The MarkdownViewer component supports:
- Full GitHub Flavored Markdown (tables, strikethrough, task lists, etc.)
- Syntax highlighting for code blocks via highlight.js
- **Mermaid diagram rendering** - any code block with `language-mermaid` is automatically rendered as an interactive diagram
- Automatic image path resolution for relative paths
- Responsive layout with proper prose styling

### Supported Mermaid Diagram Types
- Flowcharts and flow diagrams
- Sequence diagrams 
- Class diagrams
- State diagrams
- Entity relationship diagrams
- User journey maps
- Gantt charts
- Pie charts
- And many more...